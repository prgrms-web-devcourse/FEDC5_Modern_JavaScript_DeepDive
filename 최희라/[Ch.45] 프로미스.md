# í”„ë¡œë¯¸ìŠ¤

ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ íŒ¨í„´ìœ¼ë¡œ ES6ì— ë„ì…ëë‹¤. ì „í†µì ì¸ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì ì„ ë³´ì™„í•˜ê³  ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œì ì„ ëª…í™•í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

## ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì 

### ì½œë°± í—¬

**ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì˜ ë¹„ë™ê¸° ì½”ë“œëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì¢…ë£Œëœ í›„ ì™„ë£Œ**ë˜ê¸° ë•Œë¬¸ì— ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì™¸ë¶€ë¡œ ë°˜í™˜í•˜ê±°ë‚˜ ìƒìœ„ ìŠ¤ì½”í”„ ë³€ìˆ˜ì— í• ë‹¹í•˜ë©´ ê¸°ëŒ€ì™€ ë‹¤ë¥´ê²Œ ë™ì‘í•œë‹¤.

- ì²˜ë¦¬ê²°ê³¼ë¥¼ ì™¸ë¶€ë¡œ ë°˜í™˜í•˜ëŠ” ê²½ìš°
    
    ë¹„ë™ê¸° ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì—ëŠ” ì´ë¯¸ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ì—ˆê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° ì½”ë“œì˜ ì²˜ë¦¬ ê²°ê³¼ê°€ ì™¸ë¶€ë¡œ ë°˜í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤.
    
- ì²˜ë¦¬ ê²°ê³¼ë¥¼ ìƒìœ„ ìŠ¤ì½”í”„ ë³€ìˆ˜ì— í• ë‹¹í•˜ëŠ” ê²½ìš°
    
    ë¹„ë™ê¸° ì½”ë“œëŠ” íƒœìŠ¤í¬ íì— ìˆë‹¤ê°€ ì½œ ìŠ¤íƒì— ìˆëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ëª¨ë‘ ì‹¤í–‰ëœ í›„ì— ì‹¤í–‰ëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° í•¨ìˆ˜ ì‹¤í–‰ ì´í›„ ìƒìœ„ ìŠ¤ì½”í”„ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•´ë„ ì‘ë‹µ ê²°ê³¼ê°€ í• ë‹¹ë˜ê¸° ì „ì— ì½”ë“œê°€ ì‹¤í–‰ëœë‹¤.
    

ë”°ë¼ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì²˜ë¦¬ ê²°ê³¼ì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. ì´ë•Œ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¡œ ë˜ë‹¤ì‹œ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤ë©´ ì½œë°± í•¨ìˆ˜ í˜¸ì¶œì´ ì¤‘ì²©ë˜ì–´ ë³µì¡ë„ê°€ ë†’ì•„ì§€ëŠ” í˜„ìƒì´ ë°œìƒí•˜ëŠ”ë°, ì´ë¥¼ **ì½œë°± í—¬(callback hell)** ì´ë¼ í•œë‹¤.

```javascript
get('/step1', a => {
	get('/step2/${a}', b => {
		get('/step3/${b}', c => {
			get('/step4/${c}', d => {
				console.log(d);
			});
		});
	});
});
```

### ì—ëŸ¬ ì²˜ë¦¬ì˜ í•œê³„

```jsx
try {
	setTimeout(() => { throw new Error('Error!'); }, 1000);
} catch(e) {
	console.error('ìºì¹˜í•œ ì—ëŸ¬', e);
}
```

ì—ëŸ¬ëŠ” `catch` ì½”ë“œ ë¸”ëŸ­ì—ì„œ ìºì¹˜ë˜ì§€ ì•ŠëŠ”ë‹¤. `setTimeout`ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í˜¸ì¶œì(caller)ê°€ `setTimeout` í•¨ìˆ˜ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤. **ì—ëŸ¬ëŠ” í˜¸ì¶œì ë°©í–¥ìœ¼ë¡œ ì „íŒŒ**ë˜ê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì€ ì—ëŸ¬ ì²˜ë¦¬ê°€ ê³¤ë€í•˜ë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.

## í”„ë¡œë¯¸ìŠ¤ì˜ ìƒì„±

- `Promise`ëŠ” í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ë¡œ, `new` ì—°ì‚°ìì™€ í•¨ê»˜ `Promise` ìƒì„±ì í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.
- ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë°, ì´ í•¨ìˆ˜ëŠ” `resolve`ì™€ `reject` í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.
- ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì„±ê³µí•˜ë©´ `resolve` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³ , ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ë©´ `reject` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
    
    ```jsx
    const promise = new Promise((resolve, reject) => {
    	if (/* ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ */) {
    		resolve('result');
    	} else { /* ë¹„ë™ê¸° ì²˜ë¦¬ ì‹¤íŒ¨ */
    		reject('failure reason');
    	}
    });
    ```
    
- í”„ë¡œë¯¸ìŠ¤ê°€ ê°–ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœ ì •ë³´ëŠ” ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, í”„ë¡œë¯¸ìŠ¤ ìƒíƒœëŠ” `resolve` ë˜ëŠ” `reject` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ê²°ì •ëœë‹¤.
    
    
    | í”„ë¡œë¯¸ìŠ¤ ìƒíƒœ ì •ë³´ | ì˜ë¯¸ | ìƒíƒœ ë³€ê²½ ì¡°ê±´ |
    | --- | --- | --- |
    | `pending` | ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•Šì€ ìƒíƒœ | í”„ë¡œë¯¸ìŠ¤ê°€ ìƒì„±ëœ ì§í›„ ê¸°ë³¸ ìƒíƒœ |
    | `fulfilled` | ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ (ì„±ê³µ) | `resolve` í•¨ìˆ˜ í˜¸ì¶œ |
    | `rejected` | ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ (ì‹¤íŒ¨) | `reject` í•¨ìˆ˜ í˜¸ì¶œ |
- `pending`ì´ ì•„ë‹Œ ìƒíƒœë¥¼ `settled` ìƒíƒœë¼ê³  í•˜ë©°, `pending` ìƒíƒœì—ì„œ `settled` ìƒíƒœë¡œ ë³€í•  ìˆ˜ ìˆì§€ë§Œ `settled` ìƒíƒœê°€ ë˜ë©´ ë‹¤ë¥¸ ìƒíƒœë¡œ ë³€í•  ìˆ˜ ì—†ë‹¤.
- ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœì™€ ë”ë¶ˆì–´ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë„ ìƒíƒœë¡œ ê°–ëŠ”ë‹¤.

â‡’ í”„ë¡œë¯¸ìŠ¤ëŠ” **ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœ**ì™€ **ì²˜ë¦¬ ê²°ê³¼**ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë‹¤

.

## í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ

- í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ `then`, `catch`, `finally`ë¥¼ ì œê³µí•œë‹¤.
- í”„ë¡œë¯¸ìŠ¤ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœê°€ ë³€í•˜ë©´ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ì½œë°± í•¨ìˆ˜ê°€ ì„ íƒì ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.
- í›„ì† ì²˜ë¦¬ ë©”ì„œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë©° ë¹„ë™ê¸°ë¡œ ë™ì‘í•œë‹¤.

### `Promise.prototype.then`

ë‘ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

- ì²« ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ `fulfilled` ìƒíƒœê°€ ë˜ë©´ í˜¸ì¶œë˜ë©° í”„ë¡œë¯¸ìŠ¤ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.
- ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ `rejected` ìƒíƒœê°€ ë˜ë©´ í˜¸ì¶œë˜ë©° í”„ë¡œë¯¸ìŠ¤ì˜ ì—ëŸ¬ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

```jsx
new Promise(resolve => resolve('fulfilled'))
	.then(v => console.log(v), e => console.error(e));  // fulfilled

new Promise((_, reject) => reject(new Error('rejected')))
	.then(v => console.log(v), e => console.error(e));  // Error: rejected
```

### `Promise.prototype.catch`

í•œ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ìœ¼ë©° ì´ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ `rejected` ìƒíƒœì¸ ê²½ìš°ë§Œ í˜¸ì¶œëœë‹¤.

```jsx
new Promise((_, reject) => reject(new Error('rejected')))
	.catch(e => console.log(e));  // Error: rejected
```

`then(undefined, onRejected)`ê³¼ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.

### `Promise.prototype.finally`

í”„ë¡œë¯¸ìŠ¤ì˜ ì„±ê³µ ì—¬ë¶€ì™€ ìƒê´€ ì—†ì´ ë¬´ì¡°ê±´ í•œ ë²ˆ í˜¸ì¶œë˜ë©°, í•œ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœì™€ ìƒê´€ ì—†ì´ ê³µí†µì ìœ¼ë¡œ ìˆ˜í–‰í•  ì²˜ë¦¬ ë‚´ìš©ì´ ìˆì„ ë•Œ ìœ ìš©í•˜ë‹¤.

```jsx
new Promise(() => {})
	.finally(() => console.log('finally');  // finally
```

## í”„ë¡œë¯¸ìŠ¤ì˜ ì—ëŸ¬ ì²˜ë¦¬

- ë¹„ë™ê¸° ì²˜ë¦¬ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ëŠ” `then` ë©”ì„œë“œì˜ ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ì™€ `catch` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
- `then` ë©”ì„œë“œì˜ ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” ì²« ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ë¥¼ ìºì¹˜í•˜ì§€ ëª»í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šê¸° ë•Œë¬¸ì— **`catch` ë©”ì„œë“œ ì‚¬ìš©ì„ ê¶Œì¥**í•œë‹¤.

## í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹

í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹(promise chaining)ì´ë¼ í•œë‹¤.

- í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ê°€ í”„ë¡œë¯¸ìŠ¤ê°€ ì•„ë‹Œ ê°’ì„ ë°˜í™˜í•˜ë”ë¼ë„ ì•”ë¬µì ìœ¼ë¡œ `resolve` ë˜ëŠ” `reject`í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ ë°˜í™˜í•œë‹¤.
- í”„ë¡œë¯¸ìŠ¤ëŠ” ì½œë°± í—¬ì´ ë°œìƒí•˜ì§€ ì•Šìœ¼ë‚˜ ì½œë°± íŒ¨í„´ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.
- ì½œë°± íŒ¨í„´ì€ ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šê¸° ë•Œë¬¸ì— ES8ì—ì„œ ë„ì…ëœ `async`/`await`ë¥¼ ì‚¬ìš©í•˜ì—¬ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ ì—†ì´ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ê°€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•œë‹¤.

## í”„ë¡œë¯¸ìŠ¤ì˜ ì •ì  ë©”ì„œë“œ

### `Promise.resolve` / `Promise.reject`

ê°ê° ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ê°’ì„ `resolve`, `reject`í•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

```jsx
const resolvedPromise = Promise.resolve([1, 2, 3]);
resolvedPromise.then(console.log);  // [1, 2, 3]

// ìœ„ ì½”ë“œëŠ” ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë™ì‘í•œë‹¤.
const resolvedPromise = new Promise(resolve => resolve([1, 2, 3]);
resolvedPromise.then(console.log);  // [1, 2, 3]
```

### `Promise.all`

ì—¬ëŸ¬ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ëª¨ë‘ ë³‘ë ¬(parallel) ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ë©° í”„ë¡œë¯¸ìŠ¤ë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ì´í„°ëŸ¬ë¸”ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

```jsx
const requestData1 = () => new Promise(resolve => setTimeout(() => resolve(1), 3000));
const requestData2 = () => new Promise(resolve => setTimeout(() => resolve(2), 2000));
const requestData3 = () => new Promise(resolve => setTimeout(() => resolve(3), 1000));

Promise.all([requestData1, requestData2, requestData3]);
	.then(console.log)  // [1, 2, 3] (ì•½ 3ì´ˆ ì†Œìš”)
	.catch(console.error);
```

- ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ í”„ë¡œë¯¸ìŠ¤ê°€ ëª¨ë‘ `fulfilled` ìƒíƒœê°€ ë˜ë©´ ì¢…ë£Œí•˜ê¸° ë•Œë¬¸ì— ê°€ì¥ ëŠ¦ê²Œ `fulfilled` ìƒíƒœê°€ ë˜ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ì‹œê°„ë³´ë‹¤ ì¡°ê¸ˆ ë” ê¸´ ì‹œê°„ì´ ì†Œìš”ëœë‹¤.
- ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë°°ì—´ ìˆœì„œì— ë”°ë¼ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°°ì—´ì— ì €ì¥í•˜ì—¬ ê·¸ ë°°ì—´ì„ `resolve`í•˜ëŠ” ìƒˆë¡œìš´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì²˜ë¦¬ ìˆœì„œê°€ ë³´ì¥ëœë‹¤.
- ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ í”„ë¡œë¯¸ìŠ¤ê°€ í•˜ë‚˜ë¼ë„ `rejected` ìƒíƒœê°€ ë˜ë©´ ì¦‰ì‹œ ì¢…ë£Œëœë‹¤.
- ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì´í„°ëŸ¬ë¸”ì˜ ìš”ì†Œê°€ í”„ë¡œë¯¸ìŠ¤ê°€ ì•„ë‹Œ ê²½ìš° `Promise.resolve` ë©”ì„œë“œë¥¼ í†µí•´ í”„ë¡œë¯¸ìŠ¤ë¡œ ë˜í•‘í•œë‹¤.

### `Promise.race`

í”„ë¡œë¯¸ìŠ¤ë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ì´í„°ëŸ¬ë¸”ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. í•´ë‹¹ ë©”ì„œë“œëŠ” ê°€ì¥ ë¨¼ì € `fulfilled` ìƒíƒœê°€ ëœ í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ `resolve`í•˜ëŠ” ìƒˆë¡œìš´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

```jsx
Promise.race([
	new Promise(resolve => setTimeout(() => resolve(1), 3000),
	new Promise(resolve => setTimeout(() => resolve(2), 2000),
	new Promise(resolve => setTimeout(() => resolve(3), 1000)
])
	.then(console.log)  // 3
	.catch(console.log);	
```

í”„ë¡œë¯¸ìŠ¤ê°€ `rejected` ìƒíƒœê°€ ë˜ë©´ `Promise.all` ë©”ì„œë“œì™€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬ëœë‹¤.

### `Promise.allSettled` <img src="https://img.shields.io/badge/ES11-violet?style=flat"/>

í”„ë¡œë¯¸ìŠ¤ë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ì´í„°ëŸ¬ë¸”ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. ì „ë‹¬ë°›ì€ í”„ë¡œë¯¸ìŠ¤ê°€ ëª¨ë‘ `settled` ìƒíƒœê°€ ë˜ë©´ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤.

```jsx
Promise.allSettled([
	new Promise(resolve => setTimeout(() => resolve(1), 2000)),
	new Promise((_, reject) => setTimeout(() => reject(new Error('Error!)), 1000)
]).then(console.log);
/*
[
	{status: "fulfilled", value: 1},
	{status: "rejected", reason: Error: Error! at <anonymous>:3:54}
*/
```

## ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í

- í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ëŠ” íƒœìŠ¤í¬ íê°€ ì•„ë‹Œ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ì €ì¥ëœë‹¤.
- íƒœìŠ¤í¬ íì™€ëŠ” ë³„ë„ì˜ íë¡œ, ì½œë°± í•¨ìˆ˜ë‚˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì¼ì‹œ ì €ì¥í•œë‹¤ëŠ” ì ì€ ë™ì¼í•˜ì§€ë§Œ **íƒœìŠ¤í¬ íë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤.**
- ì•„ë˜ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” 2 â†’ 3 â†’ 1 ìˆœìœ¼ë¡œ ì¶œë ¥ëœë‹¤.
    
    ```jsx
    setTimeout(() => console.log(1), 0);
    
    Promise.resolve()
    	.then(() => console.log(2))
    	.then(() => console.log(3));
    ```
    

## `fetch`

`XMLHttpRequest` ê°ì²´ì™€ ë§ˆì°¬ê°€ì§€ë¡œ HTTP ìš”ì²­ ì „ì†¡ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ Web APIë‹¤. `XMLHttpRequest` ê°ì²´ë³´ë‹¤ ì‚¬ìš©ë²•ì´ ê°„ë‹¨í•˜ê³  í”„ë¡œë¯¸ìŠ¤ë¥¼ ì§€ì›í•œë‹¤.

- HTTP ìš”ì²­ì„ ì „ì†¡í•  URLê³¼ HTTP ìš”ì²­ ë©”ì„œë“œ, HTTP ìš”ì²­ í—¤ë”, í˜ì´ë¡œë“œ ë“±ì„ ì„¤ì •í•œ ê°ì²´ë¥¼ ì „ë‹¬í•œë‹¤.
    
    ```jsx
    const promise = fetch(url [, options])
    ```
    
- HTTP ì‘ë‹µì„ ë‚˜íƒ€ë‚´ëŠ” `Response` ê°ì²´ë¥¼ ë˜í•‘í•œ `Promise` ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
    - `Response` ê°ì²´ëŠ” HTTP ì‘ë‹µì„ ë‚˜íƒ€ë‚´ëŠ” ë‹¤ì–‘í•œ í”„ë¡œí¼í‹°ë¥¼ ì œê³µí•œë‹¤.
    - `Response.prototype.json` ë©”ì„œë“œëŠ” `Response` ê°ì²´ì—ì„œ HTTP ì‘ë‹µ ëª¸ì²´ë¥¼ ì·¨í•˜ì—¬ ì—­ì§ë ¬í™”í•œë‹¤.
- `fetch` í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 404, 500 ê°™ì€ HTTP ì—ëŸ¬ê°€ ë°œìƒí•´ë„ ì—ëŸ¬ë¥¼ `reject`í•˜ì§€ ì•Šê³  ë„¤íŠ¸ì›Œí¬ ì¥ì• ë‚˜ CORS ì—ëŸ¬ì— ì˜í•´ ìš”ì²­ì´ ì™„ë£Œë˜ì§€ ëª»í•œ ê²½ìš°ì—ë§Œ `reject`í•œë‹¤.
    - `fetch` í•¨ìˆ˜ê°€ ë°˜í™˜í•œ í”„ë¡œë¯¸ìŠ¤ê°€ `resolve`í•œ ë¶ˆë¦¬ì–¸ íƒ€ì…ì˜ `ok` ìƒíƒœë¥¼ í™•ì¸í•´ ëª…ì‹œì ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•´ì•¼ í•œë‹¤.
        
        ```jsx
        fetch(wrongUrl)
        	.then(response => {
        		if (!response.ok) throw new Error(response.statusText);
        		return response.json();
        	})
        	.then(todo => console.log(todo))
        	.catch(err => console.error(err));
        ```
        
    - axiosëŠ” ëª¨ë“  HTTP ì—ëŸ¬ë¥¼ `reject`í•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë©° ì¸í„°ì…‰í„°, ìš”ì²­ ì„¤ì • ë“± `fetch`ë³´ë‹¤ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.
- `fetch` í•¨ìˆ˜ë¥¼ í†µí•´ HTTP ìš”ì²­ì„ ì „ì†¡í•˜ëŠ” ì½”ë“œ
    
    ```jsx
    const request = {
    	// 1. GET ìš”ì²­
    	get(url) {
    		return fetch(url);
    	},
    	// 2. POST ìš”ì²­
    	post(url, payload) {
    		return fetch(url, {
    			method: 'POST',
    			header: { 'content-Type': 'application/json' },
    			body: JSON.stringify(payload)
    		});
    	},
    	// 3. PATCH ìš”ì²­
    	patch(url, payload) {
    		return fetch(url, {
    			method: 'PATCH',
    			header: { 'content-Type': 'application/json' },
    			body: JSON.stringify(payload)
    		});
    	},
    	// 4. DELETE ìš”ì²­
    	delete(url) {
    		return fetch(url, { method: 'DELETE' });
    	}
    };	
    ```
    

[ğŸ”—MDN Using Fetch](https://developer.mozilla.org/ko/docs/Web/API/Fetch_API/Fetchì˜_ì‚¬ìš©ë²•)